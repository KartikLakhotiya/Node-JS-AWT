modified using file module promises